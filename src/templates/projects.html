{% extends "header.html" %} {% block content %}
<div class="guide">
    <ul class="gray horizontal">
        <li><a href="/home">Home</a></li>
        <li><a href="javascript:void(0)">Projects</a></li>
        <li><a href="javascript:void(0)">Classlist</a></li>
        <li class="rightli" style="float:right"><a href="/logout">Logout</a></li>
        <li class="rightli" style="float:right"><a href="/profile">{{ name }}</a></li>
    </ul>
</div>
<h1>Project Branches</h1>
<br>
<div class="projects-page">
    <div class="projectdeets" style="text-align: center;">
        {% if perm == "perm0" %}
        <h2>Welcome, Prof. {{ name }}!</h2>
        {% endif %}
        <!-- add correct perm when those are sorted lol ...--->
        {% if teach and proj %}
        <h2>Hey, {{ name }} you are in {{ teach }}'s class. </h2>
        <h3>You are assigned to Project: {{ proj }}. </h3>
        {% endif %}
    </div>
    <div class="branches">
        <form name="myform" id="myform">
            <table id="branch-grid" style="border-spacing: 10px;">
                
                <tr id="branches" style="text-align: center;">
                    {% for ele in branches%}
                    <td><b>Branch 1</b></td>
                    {% endfor %}
                </tr>
                 <!-- <tr id="branches" style="text-align: center;">
                    <td><b>Branch 1</b></td>
                    <td><b>Branch 2</b></td>
                    <td><b>Branch 3</b></td>
                    <td><b>Branch 4</b></td>
                    <td><b>Branch 5</b></td>
                    <!-- <td><b>Branch 6</b></td> -->
                
                <tr id="branch-content" style="text-align: left;">
                
                    {% for ele in branches%}
                    <td>
                        <input type="text" placeholder="Task 1" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                    {% endfor %}
        
                </tr>
                
                <!-- <tr id="branch-content" style="text-align: left;">
                    <td>
                        <input type="text" placeholder="Task 1" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                    <td>
                        <input type="text" placeholder="Task 2" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                    <td>
                        <input type="text" placeholder="Task 3" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                    <td>
                        <input type="text" placeholder="Task 4" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                    <td>
                        <input type="text" placeholder="Task 5" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                    <td>
                        <input type="text" placeholder="Task 6" />
                        <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a>
                    </td>
                </tr> -->
            </table>
            <br> {% if teach and proj %}
            <button type="button" id="branchRev">Request Branch & Task Review</button> {% endif %} {% if perm == "perm0" %}
            <button type="button" id="btnAddCol">Add Branch</button>
            </br>
            <button type="button" id="btnAdd">Add Task</button>
            </br>
            <button type="button" id="branchUpdate">Update Branches & Tasks</button>
            </br>
            {% endif %}
    </div>

    <script lang="js">
        $(document).ready(function() {
            $('#btnAdd').click(function() {
                var count = 1,
                    first_row = $('#branch-content');
                while (count-- > 0) first_row.clone().appendTo('#branch-grid');
            });
            var myform = $('#myform'),
                iter = 6;
            $('#btnAddCol').click(function() {
                myform.find('tr').each(function() {
                    var trow = $(this);
                    if (trow.index() === 0) {
                        trow.append('<td><b>Branch' + " " + +iter + '</b></td>');
                    } else {
                        trow.append('<td><input type="text" placeholder="Task ' +
                            iter +
                            '" /> <a style="border-left: 4px solid black;" href="/task"><b>&nbsp;View Task</b></a></td>'
                        );
                    }
                });
                iter += 1;
            });
        });
    </script>
    </form>
</div>
{% endblock %}